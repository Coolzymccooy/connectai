# Work Log - 2026-02-14

## Completed Today
- Stabilized internal call state sync to reduce one-way media failures and self-ringing.
- Added call payload normalization in app runtime before matching/merging call updates.
- Improved incoming call matching logic for internal calls.
- Added cleanup logic to stop stale incoming ring banner/tone state.
- Hardened VideoBridge peer dial flow with retry-friendly connection lifecycle handling.
- Added periodic reconnect sweep for missing remote peers while call is active.
- Expanded Mongo call schema to persist internal-call media/session fields (`agentEmail`, `targetAgentEmail`, `participants`, `roomId`, `hostId`, `lobbyEnabled`, `meetingLocked`, `waitingRoom`, `screenShareOwnerId`, `conferenceName`, etc.).
- Fixed desktop download CTA path to avoid GitHub asset 404 by resolving fragile `releases/latest/download/...` links to safe `releases/latest` pages.
- Updated desktop release defaults across app/server/public settings to use the safe latest release URL.

## Files Updated (Today)
- `App.tsx`
- `components/VideoBridge.tsx`
- `server/models/index.js`
- `components/LandingPage.tsx`
- `server/index.js`
- `public/desktop-release.json`
- `server/data/settings.json`

## Validation
- `npm run build` completed successfully.

## Notes
- The Vite `ECONNREFUSED` proxy error in startup logs indicates frontend requested `/api/...` before backend was ready on `:8787`; this is a startup race unless it persists continuously.

- Built desktop installer artifacts locally (NSIS setup + MSI) and published them under public/downloads for direct web download.
- Updated desktop release URLs to local hosted installers so Download Desktop works without GitHub Releases.

